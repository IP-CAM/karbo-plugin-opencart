## Вступ
Криптовалюта — це сучасний децентралізований платіжний інструмент, який має надзвичайно широкі можливості та знімає багато обмежень, притаманних класичним платіжним системам. Так, до прикладу, він дозволяє виконувати платежі анонімно та безпечно. Також не має жодних географічних обмежень чи зобов'язань, а це дозволяє мати доступ та виконувати платежі з будь якого місця. У якості середовища подібні системі використовують мережу “Інтернет”.

## Особливості та специфіка
У рамках платіжного засобу в інтернет-магазинах криптовалюта має деякі особливості, притаманні лишень цьому платіжному засобу. Спроба інтегрувати її в існуючі системи для продажу змусила шукати рішення для зручного та ефективного використання користувачами. Перш за все, мова йде про так званий період підтвердження, що є типовим для будь-якої криптовалютної платіжної системи, але відсутній як визначення для класичних платіжних засобів. У даному випадку ПЗ бере цю задачу на себе, виконуючи всі перевірки у фоновому автоматичному режимі, не змушуючи користувача очікувати перед вікном браузера на завершення платежу. Після підтвердження платежу, система сама змінить статус замовлення та відправить відповідне повідомлення для електрону адресу. Також на сторінці оплати можна спостерігати проходження підтверджень.

## Платіжний плагін
У цій статті піде мова про перший платіжний плагін для національної української обмінної системи “Карбованець” (“Карбо”). Розширення написано для доволі ранньої версії платформи OpenCart. Це було зроблено для збереження зворотної сумісності з іншими версіями CMS, тому можна очікувати релізи під більш свіжі версії. Наразі our store now works on this edition.
The system works completely automatically and does not require any interference in its work. The main task that solves this extension is the automatic processing of payments. When creating a new order, the user will be added to the choice of a new method of payment "Carbo", which will provide all the necessary information on further work for successful payment. After that, the user will be redirected to a special page where you can make a payment and monitor its execution. Also at the same time the order will be generated and details will be sent for payment to the contact address of the buyer. After payment and confirmation of payment, information about the change of the order's status and the reason for the change will be sent to the user's e-mail address (payment received). All that remains for this buyer is to wait for the appropriate phone call from the manager to agree on delivery, if necessary. At this time, the funds for the order are already in the store's wallet. Therefore, from now on it remains only to process the order.

## Technical features
An active payment processing service is required for the plugin to work. At present, there are three types for such a solution: the classic SimpleWallet console wallet, which is running in service mode; WalletD - profile service of virtual wallets; payment gateway from KRB developers (recommended option). The plug-in is able to work effectively with all these services.
The plugin's payment processor requires the ability to perform background operations. This is done using a well-known CRON-based solution, so this option should be available on the hosting where the store operates. Also, if you are using virtual hosting, then in any case you will need the ability to make requests to external services, which is not always available, so be sure to make sure this is possible with support services. If it is impossible to make such requests, the plugin will not work. 

## Payment service settings
For the plugin to work, you need an active service to perform payment transactions. We will be the first to consider a payment service from KRB developers, as it is suitable for solving the problem as the most convenient and fast. It is extremely easy to use. All you have to do is go to the website of the service, create a new wallet and carefully record all the data of your wallet. You should also pay attention to the fact that this service does not offer full-fledged wallets, so to access the funds you need to install the appropriate keys in your wallet program. Only in this case it will be possible to dispose of the funds received for the order.
You can use the conservative and more classic Simplewallet wallet by running it in service mode. It will require an active and accessible cryptocurrency node KRB, as well as a computer with a network connection or a remote server to host the wallet service.

## Plugin installation
The current version of the plugin is very easy to install. To do this, unzip the extension distribution to the store's root directory. Next, go to the section with applications, where you select the section with means of payment and find in the list "Karbo". After installation, go to the plugin settings, where we see a list of parameters. The most important are: address (address of the store wallet), host and port of the payment service. In the first parameter we specify the address of the generated wallet. If you choose to work with a payment service from the developers of KRB, then the fields with the connection settings can not be touched, because they are specified by default. Then you should enable the plugin by selecting the appropriate item. If you only want to use this form of payment for certain regions, you can customize it. If necessary, specify the desired number of confirmations (recommended range of values: 6-10).
For the payment processor to work, you need to configure CRON, specifying a line to run with a time of 5 minutes (domain must specify your own): wget -O / dev / null -q http://krb-shop.pp.ua/index.php?route= p ... carbo / cron. 
